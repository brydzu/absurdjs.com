<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>AbsurdJS - JavaScript library with superpowers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/public/styles.css">
    <link href='http://fonts.googleapis.com/css?family=Average+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/public/font-awesome-4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="/public/prism/prism.css" />
</head>

<body>
    <!-- facebook -->
    <div id="fb-root"></div>
    <script>
        (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s);
            js.id = id;
            js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1&appId=130923167067801";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
    <div class="sitemap">
        <div class="close"> <a href="#" data-absurd-event="click:close"><i class="fa fa-times-circle-o"></i></a> 
        </div>
        <div class="links">
            <ul>
                <li><a href="/">Home</a>
                </li>
                <li><a href="/pages/documentation">Documentation</a>
                </li>
                <li>
                    <ul>
                        <li><a href="/pages/builds">Builds / Download</a>
                        </li>
                        <li><a href="/pages/installation">Installation and compilation</a>
                        </li>
                        <li><a href="/pages/input-formats">Input formats</a>
                        </li>
                        <li><a href="/pages/css-preprocessing">CSS preprocessing</a>
                        </li>
                        <li>
                            <ul>
                                <li><a href="/pages/css-preprocessing/basics">Basics</a>
                                </li>
                                <li><a href="/pages/css-preprocessing/variables-and-mixins">Variables and Mixins</a>
                                </li>
                                <li><a href="/pages/css-preprocessing/plugins">Plugins</a>
                                </li>
                                <li><a href="/pages/css-preprocessing/media-queries-raw-data">Media queries and raw data</a>
                                </li>
                                <li><a href="/pages/css-preprocessing/extending">Extending</a>
                                </li>
                                <li><a href="/pages/css-preprocessing/organic-css">Organic CSS</a>
                                </li>
                                <li>
                                    <ul>
                                        <li><a href="/pages/css-preprocessing/organic-css/atoms">Atoms</a>
                                        </li>
                                        <li><a href="/pages/css-preprocessing/organic-css/molecules">Molecules</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="/pages/html-preprocessing">HTML preprocessing</a>
                        </li>
                        <li><a href="/pages/export-to-json">Export to JSON</a>
                        </li>
                        <li><a href="/pages/client-side-components">Client-side components</a>
                        </li>
                        <li>
                            <ul>
                                <li><a href="/pages/client-side-components/definition">Definition</a>
                                </li>
                                <li><a href="/pages/client-side-components/css-compilation">CSS compilation</a>
                                </li>
                                <li><a href="/pages/client-side-components/html-compilation">HTML compilation</a>
                                </li>
                                <li><a href="/pages/client-side-components/events">Events</a>
                                </li>
                                <li><a href="/pages/client-side-components/handling-async-operations">Handling async template operations</a>
                                </li>
                                <li><a href="/pages/client-side-components/nested-components">Nested components</a>
                                </li>
                                <li><a href="/pages/client-side-components/dependency-injection">Dependency injection</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="/pages/api">API</a>
                </li>
                <li>
                    <ul>
                        <li><a href="/pages/api/core">Core</a>
                        </li>
                        <li><a href="/pages/api/client-side">Client-side</a>
                        </li>
                        <li><a href="/pages/api/build-in-components">Build-in components</a>
                        </li>
                    </ul>
                </li>
                <li><a href="/pages/tests">Tests</a>
                </li>
                <li><a href="/pages/misc">Misc</a>
                </li>
                <li><a href="/pages/try-it">Try it online</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="content">
        <nav class="content-nav">
            <ul>
                <li class="left"><a href="/"><i class="fa fa-home"></i> <span>Home</span></a>
                </li>
                <li class="right sitemap-button" data-absurd-event="click:clicked"><a href="/"><span>Menu</span> <i class="fa fa-bars"></i></a>
                </li>
            </ul>
        </nav>
        <div class="content-container"><a href="/pages/documentation" class="doc-home" title="Documentation's Index"><i class="fa fa-arrow-circle-o-left"></i></a><a href="https://github.com/krasimir/absurdjs.com/tree/masterD:\work\KrasimirTsonev\github\absurdjs.com\pages\client-side-components\events\index.md"
            class="page-edit" title="Edit this page" target="_blank"><i class="fa fa-edit"></i></a>
            <h1 id="events">Events</h1>
<div class="social">

	<!--<a href="https://twitter.com/share" class="twitter-share-button" data-via="KrasimirTsonev" data-hashtags="AbsurdJS">Tweet</a>
	<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>-->

	<!--<div class="fb-like" data-width="30" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>-->

	<iframe src="http://ghbtns.com/github-btn.html?user=krasimir&repo=absurd&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20" class="github-stars"></iframe>

	<div class="nets">
		<a href="https://www.facebook.com/sharer/sharer.php?u=http://absurdjs.comD:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events" target="_blank" title="Facebook"><i class="fa fa-facebook-square"></i></a>
		<a href="https://twitter.com/home?status=AbsurdJS%20-%20JavaScript%20library%20with%20superpowers%20http://absurdjs.comD:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events" target="_blank" title="Twitter"><i class="fa fa-twitter-square"></i></a>
		<a href="https://plus.google.com/share?url=http://absurdjs.comD:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events" target="_blank" title="google+"><i class="fa fa-google-plus-square"></i></a>
	</div>

	<!--<script type="text/javascript" src="https://apis.google.com/js/platform.js"></script>
	<div class="g-plusone" data-size="medium"></div>-->

</div>

<p>While you develop a JavaScript application into the browser you are dealing with two types of events - DOM events triggered by elements on the page and events dispatched by objects into your code logic. Let&#39;s see how everything works in AbsurdJS.</p>
<h2 id="catching-dom-events">Catching DOM events</h2>
<p>If you want to listen for events triggered by particular DOM element you have to add a <code class="language-javascript">data-absurd-event</code> attribute. The value should contain the name of the event and a name of a function into your component.</p>
<div class="example">
<div class="col">
<small>HTML:</small>
<pre><code class="language-markup">&lt;div class=&quot;content&quot;&gt;
&lt;a data-absurd-event=&quot;click:linkClicked&quot; href=&quot;#&quot;&gt;
    click me
&lt;/a&gt;
&lt;/div&gt;</code></pre></div>
<div class="col">
<small>JavaScript:</small>
<pre><code class="language-javascript">absurd.component(&quot;ComponentName&quot;, {
    html: &#39;.content&#39;,
    linkClicked: function(e) {
        alert(&quot;clicked&quot;);
    },
    constructor: function() {
        this.populate();
    }
})();</code></pre></div>
</div>

<p><small class="jsbin"><i class="fa fa-code"></i> <a href="http://jsbin.com/hajos/1/edit"></a></small></p>
<p>You may event send parameters to the function which is called. Just add another <code class="language-javascript">:</code> and append your values. Notice that the first argument of the handler is always an <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event">Event object</a>. That&#39;s the object which you normally get when you add event listeners with vanilla JavaScript.</p>
<div class="example">
<div class="col">
<small>HTML:</small>
<pre><code class="language-markup">&lt;div class=&quot;content&quot;&gt;
&lt;a data-absurd-event=&quot;click:linkClicked:20:30&quot; href=&quot;#&quot;&gt;
    click me
&lt;/a&gt;
&lt;/div&gt;</code></pre></div>
<div class="col">
<small>JavaScript:</small>
<pre><code class="language-javascript">absurd.component(&quot;ComponentName&quot;, {
    html: &#39;.content&#39;,
    linkClicked: function(e, a, b) {
        alert(&quot;clicked &quot; + a + &quot; &quot; + b);
    },
    constructor: function() {
        this.populate();
    }
})();</code></pre></div>
</div>

<p>You could even do a crazy things like adding a template expression in the attribute. For example, if the name of the handler depends on a variable inside the component.</p>
<pre><code class="language-javascript">&lt;div class=&quot;content&quot;&gt;
    &lt;a href=&quot;#&quot; data-absurd-event=&quot;click:clicked&lt;% this.status %&gt;&quot;&gt;
        click me
    &lt;/a&gt;
&lt;/div&gt;
</code></pre><h2 id="handling-custom-events">Handling custom events</h2>
<p>As we said earlier in this documentation every AbsurdJS component is actually an event dispatcher.</p>
<pre><code class="language-javascript">var menu = absurd.component(&quot;MenuClass&quot;, {
    openMenu: function() {
        this.dispatch(&quot;opened&quot;, {width: 42});
    }
})();
menu.on(&quot;opened&quot;, function(data) {
    console.log(data.width);
});
menu.openMenu();
</code></pre><p>There are <code class="language-javascript">on</code>, <code class="language-javascript">off</code> and <code class="language-javascript">dispatch</code> methods implemented. The example above shows how to trigger a custom event and attach some data to it.</p>
<p>Sometimes you need to listen for event inside the same component. In such cases you don&#39;t need to use the <code class="language-javascript">on</code> method. It is enough to define a function with the same name as the event. This solves the well known problem with the scope. I.e. the <code class="language-javascript">this</code> keyword inside the handler points to the component itself.</p>
<pre><code class="language-javascript">var menu = absurd.component(&quot;MenuClass&quot;, {
    opened: function(data){
        console.log(this.__name, data.width);
        // MenuClass 42
    },
    openMenu: function() {
        this.dispatch(&quot;opened&quot;, {width: 42});
    }
})();
menu.on(&quot;opened&quot;, function(data) {
    console.log(this.__name, data.width);
    // undefined 200
});
menu.openMenu(); 
</code></pre><h2 id="built-in-events">Built-in events</h2>
<p>Here is the place where we should mention the build-in events, which are fired by default from the component.</p>
<h3 id="ready">ready</h3>
<p>The <code class="language-javascript">ready</code> event is triggered when the document is fully loaded. That&#39;s the same as jQuery&#39;s <code class="language-javascript">ready</code> method.</p>
<pre><code class="language-javascript">absurd.component(&#39;Component&#39;, {
    ready: function() {
        // page is loaded
    }
})();
</code></pre><p>The code for this event is:</p>
<pre><code class="language-javascript">if (document.addEventListener) {
    document.addEventListener(&#39;DOMContentLoaded&#39;, fn);
} else {
    document.attachEvent(&#39;onreadystatechange&#39;, function() {
        if (document.readyState === &#39;interactive&#39;) {
            fn();
        }
    });
}
</code></pre><p>Where <code class="language-javascript">fn</code> dispatches the event.</p>
<h3 id="populated">populated</h3>
<p>The <code class="language-javascript">populated</code> event is dispatched when the <code class="language-javascript">populate</code> method finishes its job.</p>
<div class="example">
<div class="col">
<small>JavaScript:</small>
<pre><code class="language-javascript">var c = absurd.component(&quot;Component&quot;, {
    html: {
        div: &#39;Test&#39;
    }
})();
c.on(&#39;populated&#39;, function() {
    console.log(&#39;population done&#39;);
});
c.populate();</code></pre></div>
<div class="col">
<small>JavaScript:</small>
<pre><code class="language-javascript">absurd.component(&quot;Component&quot;, {
    html: {
        div: &#39;Test&#39;
    },
    populated: function() {
        console.log(&#39;population done&#39;);
    }
})().populate();</code></pre></div>
</div>

<h2 id="sending-an-event-to-all-the-created-components">Sending an event to all the created components</h2>
<p>There are cases where you want to notify all the components for something. Here is how to do it:</p>
<pre><code class="language-javascript">absurd.component(&quot;ComponentA&quot;, {
    somethingHappens: function(data) {
        console.log(data.someData);
    }
})();
absurd.component(&quot;ComponentB&quot;, {
    somethingHappens: function(data) {
        console.log(data.someData);
    }
})();

absurd.components.broadcast(&quot;somethingHappens&quot;, {
    someData: &#39;someValue&#39;
});
</code></pre><p>That&#39;s how the <code class="language-javascript">ready</code> event is send. Of course it is not mandatory to pass any data.</p>
<h2 id="sending-messages-from-one-component-to-another">Sending messages from one component to another</h2>
<p>The last thing about the events in AbsurdJS is sending them from one component to another. This could be really powerful, because you are able to wire the whole page and still have the things split in different components. </p>
<pre><code class="language-javascript">var a = absurd.component(&quot;ComponentA&quot;, {
    ohYeah: function() {
        console.log(&quot;Oh ... yeah!&quot;);
    }
})();
var b = absurd.component(&quot;ComponentB&quot;, {
    doIt: function() {
        this.dispatch(&#39;ohYeah&#39;);
    }
})();
a.wire(&#39;ohYeah&#39;);
b.doIt();
</code></pre><p>There is a global event bus where all the messages are sent. Once the event is trigged you are able to bind it to every component. That&#39;s what happen when we use the <code class="language-javascript">wire</code> method. You have also an access to the bus which actually implements the usual event dispatcher class.</p>
<pre><code class="language-javascript">var a = absurd.component(&quot;ComponentA&quot;, {
    ohYeah: function() {
        console.log(&quot;Oh ... yeah!&quot;);
    }
})();
var b = absurd.component(&quot;ComponentB&quot;, {
    doIt: function() {
        this.dispatch(&#39;ohYeah&#39;);
    }
})();

// absurd.components.events = global event bus
absurd.components.events.on(&#39;ohYeah&#39;, function() {
    console.log(&#39;I got it.&#39;);
});

a.wire(&#39;ohYeah&#39;);
b.doIt();
</code></pre><p><small class="jsbin"><i class="fa fa-code"></i> <a href="http://jsbin.com/xikem/9/edit?js,console"></a></small></p>

                <br />
                <br />
                <hr />
                <div class="guide">
                    <a href=""></a>
                    <a href=""></a>
                </div>
                <hr />
                <div id="disqus_thread"></div>
                <script type="text/javascript">
                    var disqus_shortname = 'absurdjs';
                    var disqus_identifier = "D:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events";
                    var disqus_url = "http://absurdjs.comD:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events";
                    var disqus_title = "D:/work/KrasimirTsonev/github/absurdjs.com/pages/client-side-components/events";
                    (function() {
                        var dsq = document.createElement('script');
                        dsq.type = 'text/javascript';
                        dsq.async = true;
                        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                </script>
                <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
                </noscript> <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a> 
        </div>
        <div class="footer-content"><a href="javascript:void" class="open" data-absurd-event="click:toggle"><i class="fa fa-angle-up"></i></a>
            <div class="container">
                <div class="about-the-author">
                    <h3>About the author</h3> 
                    <p> <a href="http://krasimirtsonev.com" target="_blank"><i class="fa fa-coffee"></i> Krasimir Tsonev</a> 
                    </p>
                    <p class="social"> <a href="https://github.com/krasimir" target="_blank"><i class="fa fa-github"></i></a>  <a href="http://twitter.com/KrasimirTsonev" target="_blank"><i class="fa fa-twitter"></i></a>  <a href="http://www.facebook.com/profile.php?id=617578836"
                        target="_blank"><i class="fa fa-facebook"></i></a> 
                    </p>
                </div>
                <div>
                    <h3>About the library</h3>
                    <p><a href="https://github.com/krasimir/absurd" target="_blank"><i class="fa fa-github"></i> github.com/krasimir/absurd</a>
                        <br /><a href="https://github.com/krasimir/absurdjs.com/blob/master/LICENSE" target="_blank"><i class="fa fa-file-text-o"></i> License (MIT)</a>
                        <br />
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script src="/public/prism/prism.js"></script>
    <script src="/builds/absurd.organic.min.js"></script>
    <script src="/builds/absurd.min.js"></script>
    <script src="/public/scripts.js"></script>
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o), m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
        ga('create', 'UA-1621908-2', 'absurdjs.com');
        ga('send', 'pageview');
    </script>
</body>

</html>